(()=>{var e={};e.id=154,e.ids=[154],e.modules={6472:e=>{"use strict";e.exports=require("@opentelemetry/api")},846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},9551:e=>{"use strict";e.exports=require("url")},8999:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>n.a,__next_app__:()=>u,pages:()=>d,routeModule:()=>h,tree:()=>c});var o=t(617),a=t(7278),s=t(6904),n=t.n(s),l=t(8303),i={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>l[e]);t.d(r,i);let c=["",{children:["(root)",{children:["generate",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,6842)),"C:\\Users\\sudar\\Downloads\\interview-ai\\app\\(root)\\generate\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,6389)),"C:\\Users\\sudar\\Downloads\\interview-ai\\app\\(root)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,2452,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,7910))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,1745)),"C:\\Users\\sudar\\Downloads\\interview-ai\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,2452,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,7910))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["C:\\Users\\sudar\\Downloads\\interview-ai\\app\\(root)\\generate\\page.tsx"],u={require:t,loadChunk:()=>Promise.resolve()},h=new o.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/(root)/generate/page",pathname:"/generate",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},3310:(e,r,t)=>{"use strict";t.r(r),t.d(r,{"009014325b7b1bd583f774c05c90e0e17384c4d9c2":()=>o.wR,"00be45b3173ac93d69fcb3fb8303fc683a5e143903":()=>o.HW,"00c0fa45a1a28d5c16a6a1cd96c00d8afb18bb0e1f":()=>o.JY,"00fc42ac67bd00033b3cf0566aa46eb1569b3de7c7":()=>o.CI,"4001e2350799b5b70180c9b09d6afd1d67d18b1cd7":()=>o.eE,"400474cd152df4b1763b585619d55899cc4d23ad4a":()=>o.Ak,"400ec9ec2f4989b37dac48b258fb0e8c0c57da9228":()=>o.Hh,"4030a8907117017840e541e66b3878f2958fcea903":()=>o.Jv,"4067e603649f68be5a1d67c3f86d219019826049e1":()=>o.$G,"40b6039dc5914bcc16040feeaf3fcb60b605e330a9":()=>o.ef});var o=t(9131)},2876:(e,r,t)=>{Promise.resolve().then(t.bind(t,6842))},8956:(e,r,t)=>{Promise.resolve().then(t.bind(t,8502))},8502:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>m});var o=t(6731);(function(){var e=Error("Cannot find module 'zod'");throw e.code="MODULE_NOT_FOUND",e})(),function(){var e=Error("Cannot find module 'sonner'");throw e.code="MODULE_NOT_FOUND",e}(),function(){var e=Error("Cannot find module 'react-hook-form'");throw e.code="MODULE_NOT_FOUND",e}();var a=t(3921);!function(){var e=Error("Cannot find module '@hookform/resolvers/zod'");throw e.code="MODULE_NOT_FOUND",e}();var s=t(4030),n=t(125),l=t(1743),i=t(3274),c=t(5588);!function(){var e=Error("Cannot find module 'firebase/auth'");throw e.code="MODULE_NOT_FOUND",e}();var d=t(5152);let u=Object(function(){var e=Error("Cannot find module 'zod'");throw e.code="MODULE_NOT_FOUND",e}()).object({role:Object(function(){var e=Error("Cannot find module 'zod'");throw e.code="MODULE_NOT_FOUND",e}()).string().min(1,"Role is required"),level:Object(function(){var e=Error("Cannot find module 'zod'");throw e.code="MODULE_NOT_FOUND",e}()).enum(["Junior","Mid-level","Senior","Lead"],{required_error:"Please select an experience level"}),type:Object(function(){var e=Error("Cannot find module 'zod'");throw e.code="MODULE_NOT_FOUND",e}()).enum(["Technical","Behavioral","Mixed"],{required_error:"Please select interview type"}),techstack:Object(function(){var e=Error("Cannot find module 'zod'");throw e.code="MODULE_NOT_FOUND",e}()).array(Object(function(){var e=Error("Cannot find module 'zod'");throw e.code="MODULE_NOT_FOUND",e}()).string()).min(1,"At least one technology is required"),amount:Object(function(){var e=Error("Cannot find module 'zod'");throw e.code="MODULE_NOT_FOUND",e}()).number().min(1).max(20),targetColleges:Object(function(){var e=Error("Cannot find module 'zod'");throw e.code="MODULE_NOT_FOUND",e}()).array(Object(function(){var e=Error("Cannot find module 'zod'");throw e.code="MODULE_NOT_FOUND",e}()).string()).min(1,"Select at least one college"),targetBranches:Object(function(){var e=Error("Cannot find module 'zod'");throw e.code="MODULE_NOT_FOUND",e}()).array(Object(function(){var e=Error("Cannot find module 'zod'");throw e.code="MODULE_NOT_FOUND",e}()).string()).min(1,"Select at least one branch"),targetYears:Object(function(){var e=Error("Cannot find module 'zod'");throw e.code="MODULE_NOT_FOUND",e}()).array(Object(function(){var e=Error("Cannot find module 'zod'");throw e.code="MODULE_NOT_FOUND",e}()).number()).min(1,"Select at least one year")}),h=({options:e,selectedValues:r,onChange:t,placeholder:a="Select options...",searchPlaceholder:n="Search...",disabled:l=!1,emptyMessage:i="No options available"})=>{let[c,d]=(0,s.useState)(!1),[u,h]=(0,s.useState)(""),m=(0,s.useRef)(null);(0,s.useEffect)(()=>{let e=e=>{m.current&&!m.current.contains(e.target)&&d(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);let f=e.filter(e=>e.label.toLowerCase().includes(u.toLowerCase())),x=e=>{r.includes(e)?t(r.filter(r=>r!==e)):t([...r,e])},p=e=>{t(r.filter(r=>r!==e))},b=r=>e.find(e=>e.value===r)?.label||r.toString();return(0,o.jsxs)("div",{className:"relative",ref:m,children:[(0,o.jsxs)("div",{className:`input w-full min-h-[2.5rem] cursor-pointer flex flex-wrap items-center gap-1 p-2 ${l?"bg-gray-100 cursor-not-allowed":"bg-white hover:border-blue-400"}`,onClick:()=>!l&&d(!c),children:[r.length>0?r.map(e=>(0,o.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-md",children:[b(e),(0,o.jsx)("button",{type:"button",onClick:r=>{r.stopPropagation(),p(e)},className:"text-blue-600 hover:text-blue-800 ml-1",children:"\xd7"})]},e)):(0,o.jsx)("span",{className:"text-gray-500 text-sm",children:a}),(0,o.jsx)("div",{className:"ml-auto",children:(0,o.jsx)("svg",{className:`w-4 h-4 transform transition-transform ${c?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),c&&!l&&(0,o.jsxs)("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-hidden",children:[(0,o.jsx)("div",{className:"p-2 border-b border-gray-200",children:(0,o.jsx)("input",{type:"text",placeholder:n,value:u,onChange:e=>h(e.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded focus:outline-none focus:border-blue-500",onClick:e=>e.stopPropagation()})}),(0,o.jsx)("div",{className:"max-h-40 overflow-y-auto",children:f.length>0?f.map(e=>(0,o.jsxs)("div",{className:`px-3 py-2 text-sm cursor-pointer hover:bg-blue-50 flex items-center justify-between ${r.includes(e.value)?"bg-blue-100 text-blue-800":"text-gray-900"}`,onClick:()=>x(e.value),children:[(0,o.jsx)("span",{children:e.label}),r.includes(e.value)&&(0,o.jsx)("svg",{className:"w-4 h-4 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,o.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]},e.value)):(0,o.jsx)("div",{className:"px-3 py-4 text-sm text-gray-500 text-center",children:i})})]})]})},m=()=>{let e=(0,a.useRouter)(),[r,t]=(0,s.useState)(!1),[m,f]=(0,s.useState)(null),[x,p]=(0,s.useState)(!0),[b,g]=(0,s.useState)(!1),[v,j]=(0,s.useState)(""),N=(0,s.useRef)(null),[w,O]=(0,s.useState)([]),[y,C]=(0,s.useState)({branches:[],years:[]}),[E,_]=(0,s.useState)(!1),[U,D]=(0,s.useState)([]),[k,L]=(0,s.useState)({college:"",branch:"",year:""}),[T,M]=(0,s.useState)(!1),[S,F]=(0,s.useState)([]),P=Object(function(){var e=Error("Cannot find module 'react-hook-form'");throw e.code="MODULE_NOT_FOUND",e}())({resolver:Object(function(){var e=Error("Cannot find module '@hookform/resolvers/zod'");throw e.code="MODULE_NOT_FOUND",e}())(u),defaultValues:{role:"",level:"Junior",type:"Mixed",techstack:[],amount:5,targetColleges:[],targetBranches:[],targetYears:[]}});(0,s.useEffect)(()=>{let r=Object(function(){var e=Error("Cannot find module 'firebase/auth'");throw e.code="MODULE_NOT_FOUND",e}())(c.j,r=>{if(p(!1),f(r),!r){e.push("/sign-in");return}if("i0bZW01fAeMaiqm2WSOKxFxwTAx2"!==r.uid){Object(function(){var e=Error("Cannot find module 'sonner'");throw e.code="MODULE_NOT_FOUND",e}()).error("You are not authorized to access this page"),e.push("/");return}g(!0),A()});return()=>r()},[e]);let A=async()=>{try{console.log("\uD83C\uDFEB Fetching colleges...");let e=await fetch("/api/colleges"),r=await e.json();console.log("\uD83C\uDFEB Colleges API response:",r),r.success&&(console.log("\uD83C\uDFEB Colleges data:",r.data),O(r.data))}catch(e){console.error("\uD83D\uDCA5 Error fetching colleges:",e)}},q=e=>{if(P.setValue("targetColleges",e),P.setValue("targetBranches",[]),P.setValue("targetYears",[]),e.length>0){let r=new Set,t=new Set;e.forEach(e=>{let o=w.find(r=>r.id===e);o&&(o.branches&&Array.isArray(o.branches)&&o.branches.forEach(e=>r.add(e)),o.years&&Array.isArray(o.years)&&o.years.forEach(e=>t.add(e)))}),C({branches:Array.from(r),years:Array.from(t)})}else C({branches:[],years:[]})};(0,s.useEffect)(()=>{k.college&&L(e=>({...e,branch:"",year:""}))},[k.college]);let R=async()=>{if(!k.college){Object(function(){var e=Error("Cannot find module 'sonner'");throw e.code="MODULE_NOT_FOUND",e}()).error("Please select a college filter first");return}console.log("\uD83D\uDD0D Fetching interviews with filters:",k),console.log("\uD83D\uDC64 User ID:",m?.uid);try{let e=new URLSearchParams({college:k.college,...k.branch&&{branch:k.branch},...k.year&&{year:k.year}});console.log("\uD83D\uDCE4 Request URL:",`/api/interviews?${e.toString()}`),console.log("\uD83D\uDCCB Request params:",Object.fromEntries(e.entries()));let r=await fetch(`/api/interviews?${e}`);if(console.log("\uD83D\uDCE5 Response status:",r.status),console.log("\uD83D\uDCE5 Response headers:",Object.fromEntries(r.headers.entries())),!r.ok){console.error("❌ HTTP Error:",r.status,r.statusText);let e=await r.text();throw console.error("❌ Error response body:",e),Error(`HTTP ${r.status}: ${r.statusText}`)}let t=await r.json();console.log("\uD83D\uDCCA API Response:",t),t.success?(console.log("✅ Interviews fetched successfully:",t.data?.length||0,"interviews"),console.log("\uD83D\uDCDD Interview data:",t.data),D(t.data||[]),_(!0)):(console.error("❌ API returned error:",t.error),Object(function(){var e=Error("Cannot find module 'sonner'");throw e.code="MODULE_NOT_FOUND",e}()).error("Failed to fetch interviews"))}catch(e){console.error("\uD83D\uDCA5 Error fetching interviews:",e),Object(function(){var e=Error("Cannot find module 'sonner'");throw e.code="MODULE_NOT_FOUND",e}()).error("Failed to fetch interviews")}},$=()=>{let e=v.trim();if(e&&!P.getValues("techstack").includes(e)){let r=[...P.getValues("techstack"),e];P.setValue("techstack",r),j(""),N.current?.focus()}},I=e=>{let r=P.getValues("techstack").filter(r=>r!==e);P.setValue("techstack",r)},z=async e=>{if(console.log("Form submitted with data:",e),!b||!m){console.error("Unauthorized: isAuthorized =",b,"user =",m),Object(function(){var e=Error("Cannot find module 'sonner'");throw e.code="MODULE_NOT_FOUND",e}()).error("Unauthorized access");return}t(!0);try{let r;if(Object(function(){var e=Error("Cannot find module 'sonner'");throw e.code="MODULE_NOT_FOUND",e}()).info("Checking Ollama connection..."),!await d.d.testConnection())throw Error("Cannot connect to Ollama service. Please ensure it's running and accessible.");Object(function(){var e=Error("Cannot find module 'sonner'");throw e.code="MODULE_NOT_FOUND",e}()).info("Generating interview questions..."),console.log("Calling Ollama directly from browser...");let t=`Prepare questions for a job interview.
        The job role is ${e.role}.
        The job experience level is ${e.level}.
        The tech stack used in the job is: ${e.techstack.join(", ")}.
        The focus between behavioural and technical questions should lean towards: ${e.type}.
        The amount of questions required is: ${e.amount}.
        Please return only the questions, without any additional text.
        The questions are going to be read by a voice assistant so do not use "/" or "*" or any other special characters which might break the voice assistant.
        Return the questions formatted like this:
        ["Question 1", "Question 2", "Question 3"]
        
        Thank you!`,o=await d.d.generateResponse([{role:"user",content:t}]);console.log("Raw Ollama response:",o);try{if(r=JSON.parse(o),!Array.isArray(r))throw Error("Response is not an array")}catch(t){if(console.warn("Failed to parse JSON, attempting text extraction",{error:t,rawResponse:o}),r=o.split("\n").filter(e=>e.trim()).filter(e=>e.includes("?")&&!e.toLowerCase().includes("thank you")&&e.length>10).map(e=>e.replace(/^\d+\.?\s*/,"").replace(/^["\[\]]/g,"").replace(/["\[\]],?$/g,"").trim()).slice(0,e.amount),0===r.length)throw console.error("No valid questions extracted",{rawResponse:o}),Error("Failed to generate valid questions from Ollama response")}console.log("Parsed questions:",r),Object(function(){var e=Error("Cannot find module 'sonner'");throw e.code="MODULE_NOT_FOUND",e}()).info("Saving interview to database..."),console.log("Saving interview to database...");let a={...e,techstack:e.techstack.join(", "),userid:m.uid,questions:r},s=await fetch("/api/save-interview",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),n=await s.json();if(console.log("Save response:",n),!s.ok)throw console.error("Save response not OK:",s.status,n),Error(n.error||"Failed to save interview");if(n.success)console.log("Interview generated and saved successfully!"),Object(function(){var e=Error("Cannot find module 'sonner'");throw e.code="MODULE_NOT_FOUND",e}()).success(`Interview generated successfully! ${r.length} questions created.`),E&&R(),P.reset();else throw console.error("Save result not successful:",n),Error(n.error||"Failed to save interview")}catch(r){console.error("Error generating interview:",r);let e="Failed to generate interview";r instanceof Error&&(e=r.message.includes("fetch failed")||r.message.includes("NetworkError")?"Cannot connect to Ollama service. Please check if it's running at your configured URL.":r.message),Object(function(){var e=Error("Cannot find module 'sonner'");throw e.code="MODULE_NOT_FOUND",e}()).error(e)}finally{t(!1)}},V=e=>{F(e),M(!0)};return x||!b?(0,o.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,o.jsx)("div",{className:"text-center",children:(0,o.jsx)("h2",{className:"text-2xl font-bold mb-4",children:x?"Loading...":"Checking authorization..."})})}):(0,o.jsxs)("div",{className:"flex flex-col gap-8 max-w-7xl mx-auto p-6",children:[(0,o.jsx)("div",{className:"card-border lg:min-w-[566px] mx-auto",children:(0,o.jsxs)("div",{className:"flex flex-col gap-6 card py-14 px-10",children:[(0,o.jsxs)("div",{className:"text-center",children:[(0,o.jsx)("h2",{className:"text-primary-100 text-2xl font-bold",children:"Generate Interview"}),(0,o.jsx)("p",{className:"text-gray-600 mt-2",children:"Create a new AI interview session"})]}),(0,o.jsx)(n.lV,{...P,children:(0,o.jsxs)("form",{onSubmit:P.handleSubmit(z,e=>{console.error("Form validation errors:",e),Object(function(){var e=Error("Cannot find module 'sonner'");throw e.code="MODULE_NOT_FOUND",e}()).error("Please fix the form errors before submitting")}),className:"w-full space-y-6 mt-4 form",children:[(0,o.jsx)(i.A,{control:P.control,name:"role",label:"Job Role",placeholder:"e.g., Frontend Developer, Product Manager",type:"text"}),(0,o.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"label",children:"Experience Level"}),(0,o.jsxs)("select",{...P.register("level"),className:"input w-full",children:[(0,o.jsx)("option",{value:"Junior",children:"Junior"}),(0,o.jsx)("option",{value:"Mid-level",children:"Mid-level"}),(0,o.jsx)("option",{value:"Senior",children:"Senior"}),(0,o.jsx)("option",{value:"Lead",children:"Lead"})]}),P.formState.errors.level&&(0,o.jsx)("p",{className:"text-red-500 text-sm mt-1",children:P.formState.errors.level.message})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"label",children:"Interview Type"}),(0,o.jsxs)("select",{...P.register("type"),className:"input w-full",children:[(0,o.jsx)("option",{value:"Technical",children:"Technical"}),(0,o.jsx)("option",{value:"Behavioral",children:"Behavioral"}),(0,o.jsx)("option",{value:"Mixed",children:"Mixed"})]}),P.formState.errors.type&&(0,o.jsx)("p",{className:"text-red-500 text-sm mt-1",children:P.formState.errors.type.message})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"label",children:"Tech Stack"}),(0,o.jsxs)("div",{className:"flex flex-wrap gap-2 p-3 border rounded-md bg-background min-h-[2.5rem]",children:[P.watch("techstack").map((e,r)=>(0,o.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 text-sm bg-primary/10 text-primary rounded-md",children:[e,(0,o.jsx)("button",{type:"button",onClick:()=>I(e),className:"text-primary/70 hover:text-primary ml-1",children:"\xd7"})]},r)),(0,o.jsx)("input",{ref:N,type:"text",value:v,onChange:e=>j(e.target.value),onKeyDown:e=>{if("Enter"===e.key)e.preventDefault(),$();else if("Backspace"===e.key&&""===v&&P.getValues("techstack").length>0){let e=P.getValues("techstack");I(e[e.length-1])}},onBlur:$,placeholder:0===P.watch("techstack").length?"Type technologies and press Enter":"Add more...",className:"flex-1 min-w-[120px] bg-transparent outline-none"})]}),P.formState.errors.techstack&&(0,o.jsx)("p",{className:"text-red-500 text-sm mt-1",children:P.formState.errors.techstack.message})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"label",children:"Target Colleges"}),(0,o.jsx)(h,{options:w.map(e=>({value:e.id,label:e.name})),selectedValues:P.watch("targetColleges"),onChange:e=>q(e),placeholder:"Select colleges...",searchPlaceholder:"Search colleges..."}),P.formState.errors.targetColleges&&(0,o.jsx)("p",{className:"text-red-500 text-sm mt-1",children:P.formState.errors.targetColleges.message})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"label",children:"Target Branches"}),(0,o.jsx)(h,{options:y.branches.map(e=>({value:e,label:e})),selectedValues:P.watch("targetBranches"),onChange:e=>P.setValue("targetBranches",e),placeholder:"Select branches...",searchPlaceholder:"Search branches...",disabled:0===P.watch("targetColleges").length,emptyMessage:0===P.watch("targetColleges").length?"Please select a college first":"No branches available"}),P.formState.errors.targetBranches&&(0,o.jsx)("p",{className:"text-red-500 text-sm mt-1",children:P.formState.errors.targetBranches.message})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"label",children:"Target Years"}),(0,o.jsx)(h,{options:y.years.map(e=>({value:e,label:e.toString()})),selectedValues:P.watch("targetYears"),onChange:e=>P.setValue("targetYears",e),placeholder:"Select years...",searchPlaceholder:"Search years...",disabled:0===P.watch("targetColleges").length,emptyMessage:0===P.watch("targetColleges").length?"Please select a college first":"No years available"}),P.formState.errors.targetYears&&(0,o.jsx)("p",{className:"text-red-500 text-sm mt-1",children:P.formState.errors.targetYears.message})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"label",children:"Number of Questions"}),(0,o.jsx)("input",{type:"number",min:"1",max:"20",...P.register("amount",{valueAsNumber:!0}),className:"input w-full"}),P.formState.errors.amount&&(0,o.jsx)("p",{className:"text-red-500 text-sm mt-1",children:P.formState.errors.amount.message})]}),(0,o.jsx)(l.$,{className:"btn w-full",type:"submit",disabled:r,children:r?"Generating Interview...":"Generate Interview"})]})})]})}),(0,o.jsx)("div",{className:"border-gradient p-0.5 rounded-2xl w-full",children:(0,o.jsxs)("div",{className:"card p-6",children:[(0,o.jsx)("h3",{className:"text-xl font-bold mb-4",children:"View Generated Interviews"}),(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4 form",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"label",children:"Filter by College"}),(0,o.jsxs)("select",{value:k.college,onChange:e=>L(r=>({...r,college:e.target.value})),className:"input w-full",children:[(0,o.jsx)("option",{value:"",children:"Select College"}),w.map(e=>(0,o.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"label",children:"Filter by Branch"}),(0,o.jsxs)("select",{value:k.branch,onChange:e=>L(r=>({...r,branch:e.target.value})),className:"input w-full",disabled:!k.college,children:[(0,o.jsx)("option",{value:"",children:"All Branches"}),k.college&&(()=>{let e=w.find(e=>e.id===k.college);return e?.branches?.map(e=>o.jsx("option",{value:e,children:e},e))||[]})()]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"label",children:"Filter by Year"}),(0,o.jsxs)("select",{value:k.year,onChange:e=>L(r=>({...r,year:e.target.value})),className:"input w-full",disabled:!k.college,children:[(0,o.jsx)("option",{value:"",children:"All Years"}),k.college&&(()=>{let e=w.find(e=>e.id===k.college);return e?.years?.map(e=>o.jsx("option",{value:e,children:e},e))||[]})()]})]}),(0,o.jsx)("div",{className:"flex items-end",children:(0,o.jsx)(l.$,{onClick:R,className:"btn-primary w-full",children:"Load Interviews"})})]})]})}),E&&(0,o.jsx)("div",{className:"border-gradient p-0.5 rounded-2xl w-full",children:(0,o.jsxs)("div",{className:"card p-6",children:[(0,o.jsxs)("h3",{className:"text-xl font-bold mb-4",children:["Generated Interviews (",U.length,")"]}),U.length>0?(0,o.jsx)("div",{className:"overflow-x-auto",children:(0,o.jsxs)("table",{className:"w-full border-collapse border border-border rounded-lg overflow-hidden",children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{className:"bg-dark-200",children:[(0,o.jsx)("th",{className:"border border-border px-4 py-3 text-left text-light-100 font-semibold",children:"Role"}),(0,o.jsx)("th",{className:"border border-border px-4 py-3 text-left text-light-100 font-semibold",children:"Level"}),(0,o.jsx)("th",{className:"border border-border px-4 py-3 text-left text-light-100 font-semibold",children:"Type"}),(0,o.jsx)("th",{className:"border border-border px-4 py-3 text-left text-light-100 font-semibold",children:"Tech Stack"}),(0,o.jsx)("th",{className:"border border-border px-4 py-3 text-left text-light-100 font-semibold",children:"Questions"}),(0,o.jsx)("th",{className:"border border-border px-4 py-3 text-left text-light-100 font-semibold",children:"Created"}),(0,o.jsx)("th",{className:"border border-border px-4 py-3 text-left text-light-100 font-semibold",children:"Action"})]})}),(0,o.jsx)("tbody",{children:U.map(e=>(0,o.jsxs)("tr",{className:"bg-card hover:bg-accent transition-colors duration-150",children:[(0,o.jsx)("td",{className:"border border-border px-4 py-3 text-foreground font-medium",children:e.role}),(0,o.jsx)("td",{className:"border border-border px-4 py-3 text-foreground",children:e.level}),(0,o.jsx)("td",{className:"border border-border px-4 py-3 text-foreground",children:e.type}),(0,o.jsx)("td",{className:"border border-border px-4 py-3",children:(0,o.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.techstack.slice(0,3).map((e,r)=>(0,o.jsx)("span",{className:"bg-primary-200 text-dark-100 text-xs px-2 py-1 rounded font-medium",children:e},r)),e.techstack.length>3&&(0,o.jsxs)("span",{className:"text-muted-foreground text-xs font-medium",children:["+",e.techstack.length-3," more"]})]})}),(0,o.jsx)("td",{className:"border border-border px-4 py-3 text-foreground font-semibold",children:e.questions.length}),(0,o.jsx)("td",{className:"border border-border px-4 py-3 text-foreground",children:new Date(e.createdAt).toLocaleDateString()}),(0,o.jsx)("td",{className:"border border-border px-4 py-3",children:(0,o.jsx)(l.$,{onClick:()=>V(e.questions),className:"btn-secondary text-sm",children:"View Questions"})})]},e.id))})]})}):(0,o.jsx)("p",{className:"text-muted-foreground text-center py-8 font-medium",children:"No interviews found for the selected filters."})]})}),T&&(0,o.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,o.jsx)("div",{className:"border-gradient p-0.5 rounded-2xl",children:(0,o.jsxs)("div",{className:"card p-6 max-w-2xl w-full max-h-[80vh] overflow-y-auto m-4",children:[(0,o.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,o.jsx)("h3",{className:"text-xl font-bold",children:"Interview Questions"}),(0,o.jsx)("button",{onClick:()=>M(!1),className:"text-muted-foreground hover:text-foreground text-2xl",children:"\xd7"})]}),(0,o.jsx)("div",{className:"space-y-4",children:S.map((e,r)=>(0,o.jsxs)("div",{className:"border-l-4 border-primary-200 pl-4 py-2",children:[(0,o.jsxs)("p",{className:"font-medium text-foreground",children:["Question ",r+1]}),(0,o.jsx)("p",{className:"text-light-100 mt-1",children:e})]},r))}),(0,o.jsx)("div",{className:"mt-6 text-right",children:(0,o.jsx)(l.$,{onClick:()=>M(!1),className:"btn-primary",children:"Close"})})]})})})]})}},3274:(e,r,t)=>{"use strict";t.d(r,{A:()=>l});var o=t(6731),a=t(125);t(4030);var s=t(3944);function n({className:e,type:r,...t}){return(0,o.jsx)("input",{type:r,"data-slot":"input",className:(0,s.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...t})}!function(){var e=Error("Cannot find module 'react-hook-form'");throw e.code="MODULE_NOT_FOUND",e}();let l=({control:e,name:r,label:t,placeholder:s,type:l="text"})=>(0,o.jsx)(Object(function(){var e=Error("Cannot find module 'react-hook-form'");throw e.code="MODULE_NOT_FOUND",e}()),{control:e,name:r,render:({field:e})=>(0,o.jsxs)(a.eI,{children:[(0,o.jsx)(a.lR,{className:"label",children:t}),(0,o.jsx)(a.MJ,{children:(0,o.jsx)(n,{className:"input",type:l,placeholder:s,...e})}),(0,o.jsx)(a.C5,{})]})})},125:(e,r,t)=>{"use strict";t.d(r,{lV:()=>l,MJ:()=>m,eI:()=>u,lR:()=>h,C5:()=>f});var o=t(6731),a=t(4030),s=t(3944);function n({className:e,...r}){return(0,o.jsx)(Object(function(){var e=Error("Cannot find module '@radix-ui/react-label'");throw e.code="MODULE_NOT_FOUND",e}()),{"data-slot":"label",className:(0,s.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...r})}(function(){var e=Error("Cannot find module '@radix-ui/react-label'");throw e.code="MODULE_NOT_FOUND",e})(),function(){var e=Error("Cannot find module '@radix-ui/react-slot'");throw e.code="MODULE_NOT_FOUND",e}(),function(){var e=Error("Cannot find module 'react-hook-form'");throw e.code="MODULE_NOT_FOUND",e}();let l=Object(function(){var e=Error("Cannot find module 'react-hook-form'");throw e.code="MODULE_NOT_FOUND",e}()),i=a.createContext({}),c=()=>{let e=a.useContext(i),r=a.useContext(d),{getFieldState:t}=Object(function(){var e=Error("Cannot find module 'react-hook-form'");throw e.code="MODULE_NOT_FOUND",e}())(),o=Object(function(){var e=Error("Cannot find module 'react-hook-form'");throw e.code="MODULE_NOT_FOUND",e}())({name:e.name}),s=t(e.name,o);if(!e)throw Error("useFormField should be used within <FormField>");let{id:n}=r;return{id:n,name:e.name,formItemId:`${n}-form-item`,formDescriptionId:`${n}-form-item-description`,formMessageId:`${n}-form-item-message`,...s}},d=a.createContext({});function u({className:e,...r}){let t=a.useId();return(0,o.jsx)(d.Provider,{value:{id:t},children:(0,o.jsx)("div",{"data-slot":"form-item",className:(0,s.cn)("grid gap-2",e),...r})})}function h({className:e,...r}){let{error:t,formItemId:a}=c();return(0,o.jsx)(n,{"data-slot":"form-label","data-error":!!t,className:(0,s.cn)("data-[error=true]:text-destructive",e),htmlFor:a,...r})}function m({...e}){let{error:r,formItemId:t,formDescriptionId:a,formMessageId:s}=c();return(0,o.jsx)(Object(function(){var e=Error("Cannot find module '@radix-ui/react-slot'");throw e.code="MODULE_NOT_FOUND",e}()),{"data-slot":"form-control",id:t,"aria-describedby":r?`${a} ${s}`:`${a}`,"aria-invalid":!!r,...e})}function f({className:e,...r}){let{error:t,formMessageId:a}=c(),n=t?String(t?.message??""):r.children;return n?(0,o.jsx)("p",{"data-slot":"form-message",id:a,className:(0,s.cn)("text-destructive text-sm",e),...r,children:n}):null}},5152:(e,r,t)=>{"use strict";t.d(r,{d:()=>a});class o{constructor(){this.baseUrl=process.env.NEXT_PUBLIC_OLLAMA_URL||"https://dypai.ccxai.uk",this.model=process.env.NEXT_PUBLIC_OLLAMA_MODEL||"gemma3:latest",console.log("ClientOllamaAdapter initialized:",{baseUrl:this.baseUrl,model:this.model})}async generateResponse(e){console.log("Starting client-side LLM generation",{messageCount:e.length,model:this.model,baseUrl:this.baseUrl});try{let r=await fetch(`${this.baseUrl}/api/chat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:this.model,messages:e,stream:!1})});if(!r.ok)throw Error(`Ollama responded with status: ${r.status} - ${r.statusText}`);let t=await r.json(),o=t.message.content;return console.log("Client-side LLM generation completed",{responseLength:o.length,totalDuration:t.total_duration,evalCount:t.eval_count}),o}catch(e){throw console.error("Client-side LLM generation failed:",e),e}}async testConnection(){try{console.log("Testing client-side Ollama connection");let e=await fetch(`${this.baseUrl}/api/tags`);if(!e.ok)return console.log("Client-side Ollama health check:",{status:"unhealthy",statusCode:e.status}),!1;{let r=await e.json(),t=r.models?.some(e=>e.name.includes(this.model.split(":")[0]));return console.log("Client-side Ollama health check:",{status:"healthy",modelAvailable:t,availableModels:r.models?.map(e=>e.name)||[]}),t}}catch(e){return console.error("Client-side Ollama health check failed:",e),!1}}}let a=new o},6842:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>o});let o=(0,t(2305).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\sudar\\\\Downloads\\\\interview-ai\\\\app\\\\(root)\\\\generate\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\sudar\\Downloads\\interview-ai\\app\\(root)\\generate\\page.tsx","default")}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),o=r.X(0,[173,526,658,402,935,306],()=>t(8999));module.exports=o})();