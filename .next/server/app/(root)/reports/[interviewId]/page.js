(()=>{var e={};e.id=139,e.ids=[139],e.modules={6472:e=>{"use strict";e.exports=require("@opentelemetry/api")},846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},9551:e=>{"use strict";e.exports=require("url")},953:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>d.a,__next_app__:()=>x,pages:()=>c,routeModule:()=>p,tree:()=>n});var s=r(617),a=r(7278),o=r(6904),d=r.n(o),l=r(8303),i={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>l[e]);r.d(t,i);let n=["",{children:["(root)",{children:["reports",{children:["[interviewId]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,9753)),"C:\\Users\\sudar\\Downloads\\interview-ai\\app\\(root)\\reports\\[interviewId]\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,6389)),"C:\\Users\\sudar\\Downloads\\interview-ai\\app\\(root)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,2452,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,7910))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,1745)),"C:\\Users\\sudar\\Downloads\\interview-ai\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,2452,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,7910))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["C:\\Users\\sudar\\Downloads\\interview-ai\\app\\(root)\\reports\\[interviewId]\\page.tsx"],x={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/(root)/reports/[interviewId]/page",pathname:"/reports/[interviewId]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:n}})},3310:(e,t,r)=>{"use strict";r.r(t),r.d(t,{"009014325b7b1bd583f774c05c90e0e17384c4d9c2":()=>s.wR,"00be45b3173ac93d69fcb3fb8303fc683a5e143903":()=>s.HW,"00c0fa45a1a28d5c16a6a1cd96c00d8afb18bb0e1f":()=>s.JY,"00fc42ac67bd00033b3cf0566aa46eb1569b3de7c7":()=>s.CI,"4001e2350799b5b70180c9b09d6afd1d67d18b1cd7":()=>s.eE,"400474cd152df4b1763b585619d55899cc4d23ad4a":()=>s.Ak,"400ec9ec2f4989b37dac48b258fb0e8c0c57da9228":()=>s.Hh,"4030a8907117017840e541e66b3878f2958fcea903":()=>s.Jv,"4067e603649f68be5a1d67c3f86d219019826049e1":()=>s.$G,"40b6039dc5914bcc16040feeaf3fcb60b605e330a9":()=>s.ef});var s=r(9131)},947:(e,t,r)=>{Promise.resolve().then(r.bind(r,9753))},2704:(e,t,r)=>{Promise.resolve().then(r.bind(r,4101))},4101:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var s=r(6731),a=r(4030),o=r(3921);!function(){var e=Error("Cannot find module 'sonner'");throw e.code="MODULE_NOT_FOUND",e}();var d=r(5588);!function(){var e=Error("Cannot find module 'firebase/auth'");throw e.code="MODULE_NOT_FOUND",e}();var l=r(1743),i=r(174);let n=()=>{let e=(0,o.useRouter)(),t=(0,o.useParams)().interviewId,[r,n]=(0,a.useState)(null),[c,x]=(0,a.useState)(!0),[p,m]=(0,a.useState)(!1),[h,b]=(0,a.useState)(null),[u,f]=(0,a.useState)([]);(0,a.useEffect)(()=>{let t=Object(function(){var e=Error("Cannot find module 'firebase/auth'");throw e.code="MODULE_NOT_FOUND",e}())(d.j,async t=>{if(x(!1),n(t),!t){e.push("/sign-in");return}await v(t)});return()=>t()},[e,t]);let v=async e=>{try{console.log("\uD83D\uDD0D [IndividualReport] Checking TPO access for user:",e.uid);let t=await e.getIdToken(),r=await fetch("/api/reports",{headers:{Authorization:`Bearer ${t}`}});console.log("\uD83D\uDCE1 [IndividualReport] TPO access response status:",r.status);let s=await r.json();if(console.log("\uD83D\uDCCA [IndividualReport] TPO access result:",s),!s.success){console.error("❌ [IndividualReport] TPO access denied"),m(!1);return}console.log("✅ [IndividualReport] TPO access granted"),m(!0),await g(t)}catch(e){console.error("❌ [IndividualReport] Error checking access:",e),m(!1)}},g=async e=>{try{console.log("\uD83D\uDD0D [IndividualReport] Fetching attempts for interview:",t);let r=await fetch(`/api/reports/${t}`,{headers:{Authorization:`Bearer ${e}`}});console.log("\uD83D\uDCE1 [IndividualReport] Attempts response status:",r.status);let s=await r.json();if(console.log("\uD83D\uDCCA [IndividualReport] Attempts result:",s),s.success){console.log("✅ [IndividualReport] Student attempts:",{count:s.attempts?.length||0,attempts:s.attempts,interviewId:s.interviewId,collegeId:s.collegeId});let e=(s.attempts||[]).map(e=>({feedbackId:e.feedbackId,userName:e.studentName,userEmail:e.studentEmail,userBranch:e.branch,userYear:e.year,totalScore:e.totalScore,createdAt:e.attemptDate,categoryScores:[],strengths:[],areasForImprovement:[],finalAssessment:""}));f(e)}else console.error("❌ [IndividualReport] Failed to fetch attempts:",s.error),Object(function(){var e=Error("Cannot find module 'sonner'");throw e.code="MODULE_NOT_FOUND",e}()).error("Failed to fetch interview attempts")}catch(e){console.error("❌ [IndividualReport] Exception fetching attempts:",e),Object(function(){var e=Error("Cannot find module 'sonner'");throw e.code="MODULE_NOT_FOUND",e}()).error("Failed to fetch interview attempts")}},j=r=>{e.push(`/interview/${t}/feedback?feedbackId=${r.feedbackId}`)},N=e=>e>=80?"text-green-600 bg-green-100":e>=60?"text-yellow-600 bg-yellow-100":"text-red-600 bg-red-100";return c?(0,s.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,s.jsx)("div",{className:"text-center",children:(0,s.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Loading..."})})}):p?(0,s.jsxs)("div",{className:"flex flex-col gap-8 max-w-7xl mx-auto p-6",children:[(0,s.jsx)("div",{className:"flex items-center gap-4 mb-4",children:(0,s.jsx)(l.$,{onClick:()=>e.back(),className:"btn-secondary",children:"← Back to Reports"})}),h&&(0,s.jsx)("div",{className:"card-border",children:(0,s.jsxs)("div",{className:"card p-6",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold mb-4",children:"Interview Report"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Role"}),(0,s.jsx)("p",{className:"font-semibold",children:h.role})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Level"}),(0,s.jsx)("p",{className:"font-semibold",children:h.level})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Type"}),(0,s.jsx)("p",{className:"font-semibold",children:h.type})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Questions"}),(0,s.jsx)("p",{className:"font-semibold",children:h.questions.length})]})]}),(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsx)("p",{className:"text-sm text-gray-500 mb-2",children:"Tech Stack"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:h.techstack.map((e,t)=>(0,s.jsx)("span",{className:"bg-blue-100 text-blue-800 text-sm px-3 py-1 rounded-full",children:e},t))})]})]})}),(0,s.jsx)("div",{className:"card-border",children:(0,s.jsxs)("div",{className:"card p-6",children:[(0,s.jsxs)("h2",{className:"text-2xl font-bold mb-4",children:["Student Attempts (",u.length,")"]}),u.length>0?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6 p-4 bg-gray-50 rounded-lg",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:u.length}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Total Attempts"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("p",{className:"text-2xl font-bold text-green-600",children:Math.round(u.reduce((e,t)=>e+t.totalScore,0)/u.length)}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Average Score"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:Math.max(...u.map(e=>e.totalScore))}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Highest Score"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("p",{className:"text-2xl font-bold text-orange-600",children:u.filter(e=>e.totalScore>=70).length}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Passed (≥70%)"})]})]}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full border-collapse border border-border",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"bg-gray-800 dark:bg-gray-900",children:[(0,s.jsx)("th",{className:"border border-border px-4 py-2 text-left text-white font-semibold",children:"Student Name"}),(0,s.jsx)("th",{className:"border border-border px-4 py-2 text-left text-white font-semibold",children:"Email"}),(0,s.jsx)("th",{className:"border border-border px-4 py-2 text-left text-white font-semibold",children:"Branch"}),(0,s.jsx)("th",{className:"border border-border px-4 py-2 text-left text-white font-semibold",children:"Year"}),(0,s.jsx)("th",{className:"border border-border px-4 py-2 text-left text-white font-semibold",children:"Total Score"}),(0,s.jsx)("th",{className:"border border-border px-4 py-2 text-left text-white font-semibold",children:"Attempt Date"}),(0,s.jsx)("th",{className:"border border-border px-4 py-2 text-left text-white font-semibold",children:"Action"})]})}),(0,s.jsx)("tbody",{children:u.map(e=>(0,s.jsxs)("tr",{className:"bg-white dark:bg-gray-800 hover:bg-blue-50 dark:hover:bg-gray-700",children:[(0,s.jsx)("td",{className:"border border-border px-4 py-2 font-medium text-black dark:text-white",children:e.userName}),(0,s.jsx)("td",{className:"border border-border px-4 py-2 text-black dark:text-white",children:e.userEmail}),(0,s.jsx)("td",{className:"border border-border px-4 py-2 text-black dark:text-white",children:e.userBranch||"N/A"}),(0,s.jsx)("td",{className:"border border-border px-4 py-2 text-black dark:text-white",children:e.userYear||"N/A"}),(0,s.jsx)("td",{className:"border border-border px-4 py-2",children:(0,s.jsxs)("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${N(e.totalScore)}`,children:[e.totalScore,"%"]})}),(0,s.jsx)("td",{className:"border border-border px-4 py-2 text-black dark:text-white",children:new Date(e.createdAt).toLocaleDateString()}),(0,s.jsx)("td",{className:"border border-border px-4 py-2",children:(0,s.jsx)(l.$,{onClick:()=>j(e),className:"btn-primary text-sm",children:"View Feedback"})})]},e.feedbackId))})]})})]}):(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)(i.default,{src:"/robot.png",alt:"No Attempts",width:120,height:120,className:"mx-auto opacity-30 mb-4"}),(0,s.jsx)("p",{className:"text-gray-500 text-lg",children:"No students have attempted this interview yet."}),(0,s.jsx)("p",{className:"text-gray-400 text-sm mt-2",children:"Check back later once students start taking the interview."})]})]})})]}):(0,s.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,s.jsxs)("div",{className:"text-center max-w-md",children:[(0,s.jsx)("div",{className:"mb-6",children:(0,s.jsx)(i.default,{src:"/robot.png",alt:"Access Denied",width:200,height:200,className:"mx-auto opacity-50"})}),(0,s.jsx)("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Access Not Allowed"}),(0,s.jsx)("p",{className:"text-gray-600 mb-6",children:"You don't have permission to view this report."}),(0,s.jsx)(l.$,{onClick:()=>e.push("/reports"),className:"btn-primary",children:"Back to Reports"})]})})}},9753:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(2305).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\sudar\\\\Downloads\\\\interview-ai\\\\app\\\\(root)\\\\reports\\\\[interviewId]\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\sudar\\Downloads\\interview-ai\\app\\(root)\\reports\\[interviewId]\\page.tsx","default")}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[173,526,658,402,935,306],()=>r(953));module.exports=s})();